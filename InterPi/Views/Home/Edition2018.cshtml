@model InterPi.Models.Front.EditionModel


<div class="jumbotron">

    <h2>Edition 2018 : La guerre des gangs </h2>
    <img src="~/Content/Images/CaSeDitScout.PNG" />
    <span class="right"><a href="https://lesscouts.be/no_cache/telecharger/grenier1/-/edition/-/3811.html#c559">&copy; Ca se dit scout - Octobre 2018</a></span>

    <hr class="my-4" />

    <h3>Historique</h3>
    <div class="paragraph">
        En 2018, l’équipe orga, qui avait toutefois un peu changé, a décidé de remettre le couvert et d’organiser la 2e édition de l’InterPiHo, qui rassemble tous les pionniers et toutes les horizons voulant passer une journée de malade à nos côtés ! Le 24 février 2018, nous avons donc donné rendez-vous à 150 pionniers, venant de Brunehault mais aussi de Namur et autre dans le parc du Mayeur pour débuter cette journée, dans un froid glacial. Grâce à l’aide de bénévoles, des animateurs d’unité de Rebecq et de Braine-le-Comte et des deux staffs organisateurs, la journée fut couronnée de succès.
    </div>
    <div class="paragraph">
        L’an dernier, c’est les nouvelles technologies qui ont été mises à l’honneur. Par groupe de 8, composé de pionniers/horizons d’unités différentes, les animés, qui représentaient des gangs bien connus, ont dû mettre la main sur le plus de balises possible pour engranger le plus d’argent possible. Le QR code était aussi mis à l’honneur et a permis au gang gagnant d’affirmer leur notoriété sur le territoire montois. A l’inverse de l’édition précédente, c’est midi que nous nous sommes retrouvés pour déguster un bon hot-dog et nous avons dit au revoir à tous les participants sur le coup de 18h.
    </div>
    <div class="text-center">
        Allez jeter un œil à la galerie photos en bas de la page !
    </div>

    <iframe class="center-block" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10161.495617217959!2d3.955275408123598!3d50.45276166865121!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47c25002e5e507d5%3A0x5898c83517501735!2sJardin+du+Mayeur!5e0!3m2!1sfr!2sbe!4v1540238192210" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>
    <br>
    <button class="info center-block" onclick="callAjax()">Afficher la gallerie </button>
</div>
<div id="FB">
</div>
    @*@if(Model.listImage.Count > 0)
        {

        <div class="col-md-4 col-sm-6 col-lg-3">
            @for (int i = 0; i <= (int)Model.listImage.Count / 3; i++)
            {

                <img src=@Model.listImage.ElementAt(i) class="" onclick="infos('@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()')" />
                <div id="@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()" class="modal">
                    <!-- Modal content -->
                    <div class="modal-content">
                        <span class="close" onclick="halt('@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()')">&times;</span>
                        <div>
                            <img src=@Model.listImage.ElementAt(i) />
                        </div>
                    </div>
                </div>
            }
        </div>
        <div class="col-md-4 col-sm-6 col-lg-3">
            @for (int i = (int)Model.listImage.Count / 3; i <= (int)Model.listImage.Count * 2 / 3; i++)
            {

                <img src=@Model.listImage.ElementAt(i) class="" onclick="infos('@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()')" />
                <div id="@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()" class="modal">
                    <!-- Modal content -->
                    <div class="modal-content">
                        <span class="close" onclick="halt('@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()')">&times;</span>
                        <div>
                            <img src=@Model.listImage.ElementAt(i) />
                        </div>
                    </div>
                </div>
            }
        </div>
        <div class="col-md-4 col-sm-6 col-lg-3">
            @for (int i = (int)Model.listImage.Count * 2 / 3; i < (int)Model.listImage.Count; i++)
            {

                <img src=@Model.listImage.ElementAt(i) class="" onclick="infos('@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()')" />
                <div id="@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()" class="modal">
                    <!-- Modal content -->
                    <div class="modal-content">
                        <span class="close" onclick="halt('@Model.listImage.ElementAt(i).Split('/').Last().Split('.').First()')">&times;</span>
                        <div>
                            <img src=@Model.listImage.ElementAt(i) />
                        </div>
                    </div>
                </div>
            }
        </div>
        }*@


    <style>
        
        .text-center {
            font-size: medium;
            margin-top: 5px;
            margin-bottom: 5px;
            text-align: center;
            padding-bottom: 15px;
        }

        .paragraph {
            text-align: justify;
            font-size: small;
            margin-top: 5px;
            margin-bottom: 5px;
        }

        iframe {
            width: 50%;
        }

        h5 {
            font-size: large;
        }

        h2 {
            text-align: center;
        }

        img {
            width: 100%;
            margin: 5px;
        }


        .fff {
            width: 20%;
        }

        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        /* Modal Content/Box */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            color: black;
        }

        /* The Close Button */
        .close {
            color: rgb(0,0,0);
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

            .close:hover,
            .close:focus {
                color: black;
                text-decoration: none;
                cursor: pointer;
            }
    </style>
    <script>

        function offsetChanged() { }


        var modal = document.getElementById('myModal');

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on the button, open the modal
        function infos(id) {
            // modal.style.display = "block";
            document.getElementById(id).style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        function halt(id) {
            document.getElementById(id).style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        function callAjax() {
            // alert("start");
            $.ajax({
                type: "GET",
                url: "/api/API/2018",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data, textStatus, xhr) {
                    //alert("succes");
                    creationImage(data);
                },
                failure: function (response) {
                    //alert("fail");
                },
                error: function (response) {
                    //alert(response.responseText);
                }
            });
        }
        function CreationID(line) {
          //  console.log(line);
            line = line.toString();
            var lineSpit = line.split("/");
            var name = lineSpit[lineSpit.length - 1].split(".");
           // console.log("retour de nom : " + name[0]);
            return name[0];
        }

        function creationImage(data) {
            var div = document.getElementById("FB").innerHTML;
            var images = Array.from(data);
           // alert(images);

            var str = "<div class=\"col-md-4 col-sm-6 col-lg-3\">";

            for (i = 0; i <= images.length / 3; i++) {
                var id = CreationID(images[i]);
                str += " <img src=" + images[i] + " onclick=\"infos('" + id + "')\" />";
                str += "<div id=\"" + id + "\" class=\"modal\">";
                str += "<div class=\"modal - content\">";
                str += " <span class=\"close\" onclick=\"halt('" + id + "')\">&times;</span>";
                str += "<div><img src=" + images[i] + " class=\"imgModal\"/></div></div></div>";
            }
            str += "</div>";
            str += "<div class=\"col-md-4 col-sm-6 col-lg-3\">";
            for (i = parseInt(images.length / 3); i <= images.length * 2 / 3; i++) {
                var id = CreationID(images[i]);
                str += " <img src=" + images[i] + " onclick=\"infos('" + id + "')\" />";
                str += "<div id=\"" + id + "\" class=\"modal\">";
                str += "<div class=\"modal - content\">";
                str += " <span class=\"close\" onclick=\"halt('" + id + "')\">&times;</span>";
                str += "<div><img src=" + images[i] + " class=\"imgModal\"/></div></div></div>";
            }
            str += "</div>";
            str += "<div class=\"col-md-4 col-sm-6 col-lg-3\">";
            for (i = parseInt(images.length * 2 / 3); i < images.length; i++) {
                var id = CreationID(images[i]);
                str += " <img src=" + images[i] + " onclick=\"infos('" + id + "')\" />";
                str += "<div id=\"" + id + "\" class=\"modal\">";
                str += "<div class=\"modal - content\">";
                str += " <span class=\"close\" onclick=\"halt('" + id + "')\">&times;</span>";
                str += "<div><img src=" + images[i] + " class=\"imgModal\"/></div></div></div>";
            }
            str += "</div>";
            document.getElementById("FB").innerHTML += str;
        }
    </script>
